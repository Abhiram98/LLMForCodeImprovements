{
    "Method_Improvements": [{
        "Improvements": [
            {
                "Improvement": "Extract default game rules into a separate method",
                "Change_Diff": "- gameRules.put(GameRule.ANNOUNCE_ADVANCEMENTS,true);\n- gameRules.put(GameRule.COMMAND_BLOCK_OUTPUT,true);\n- gameRules.put(GameRule.DISABLE_ELYTRA_MOVEMENT_CHECK,false);\n- gameRules.put(GameRule.DO_DAYLIGHT_CYCLE,true);\n- gameRules.put(GameRule.DO_ENTITY_DROPS,true);\n...",
                "Description": "Extracting the code for setting default game rules into a separate method can improve readability and maintainability.",
                "Start": 26,
                "End": 52
            },
            {
                "Improvement": "Replace if-else statement with ternary operator",
                "Change_Diff": "- if (this.server != null) {\n-   this.pvp=this.server.getServerConfiguration().isPvpEnabled();\n-   this.ticksPerSpawn.putAll(this.server.getServerConfiguration().getTicksPerSpawn());\n- }\n- else {\n-   this.pvp=true;\n-   ticksPerSpawn.put...",
                "Description": "Using a ternary operator instead of an if-else statement can make the code more concise and easier to read.",
                "Start": 15,
                "End": 19
            }
        ],
        "Final code": "public WorldMock(Material defaultBlock, Biome defaultBiome, int minHeight, int maxHeight, int grassHeight) {\n  this.defaultBlock = defaultBlock;\n  this.defaultBiome = defaultBiome;\n  this.minHeight = minHeight;\n  this.maxHeight = maxHeight;\n  this.grassHeight = grassHeight;\n  this.server = MockBukkit.getMock();\n\n  setDefaultGameRules();\n  setServerConfigurations();\n}\n\nprivate void setDefaultGameRules() {\n  gameRules.put(GameRule.ANNOUNCE_ADVANCEMENTS, true);\n  gameRules.put(GameRule.COMMAND_BLOCK_OUTPUT, true);\n  gameRules.put(GameRule.DISABLE_ELYTRA_MOVEMENT_CHECK, false);\n  gameRules.put(GameRule.DO_DAYLIGHT_CYCLE, true);\n  gameRules.put(GameRule.DO_ENTITY_DROPS, true);\n  // ...\n}\n\nprivate void setServerConfigurations() {\n  this.pvp = (this.server != null) ? this.server.getServerConfiguration().isPvpEnabled() : true;\n  this.ticksPerSpawn.putAll((this.server != null) ? this.server.getServerConfiguration().getTicksPerSpawn() : getDefaultTicksPerSpawn());\n}\n\nprivate Map<SpawnCategory, Integer> getDefaultTicksPerSpawn() {\n  Map<SpawnCategory, Integer> ticksPerSpawn = new HashMap<>();\n  ticksPerSpawn.put(SpawnCategory.ANIMAL, 400);\n  ticksPerSpawn.put(SpawnCategory.MONSTER, 1);\n  // ...\n  return ticksPerSpawn;\n}"
    }],
    "Old_Method": "/** \n * Creates a new mock world.\n * @param defaultBlock The block that is spawned at locations 1 to {@code grassHeight}\n * @param defaultBiome The biome that every block will be in by default.\n * @param minHeight    The minimum height of the world.\n * @param maxHeight    The maximum height of the world.\n * @param grassHeight  The last {@code y} at which {@code defaultBlock} will spawn.\n */\npublic WorldMock(Material defaultBlock,Biome defaultBiome,int minHeight,int maxHeight,int grassHeight){\n  this.defaultBlock=defaultBlock;\n  this.defaultBiome=defaultBiome;\n  this.minHeight=minHeight;\n  this.maxHeight=maxHeight;\n  this.grassHeight=grassHeight;\n  this.server=MockBukkit.getMock();\n  if (this.server != null) {\n    this.pvp=this.server.getServerConfiguration().isPvpEnabled();\n    this.ticksPerSpawn.putAll(this.server.getServerConfiguration().getTicksPerSpawn());\n  }\n else {\n    this.pvp=true;\n    ticksPerSpawn.put(SpawnCategory.ANIMAL,400);\n    ticksPerSpawn.put(SpawnCategory.MONSTER,1);\n    ticksPerSpawn.put(SpawnCategory.WATER_AMBIENT,1);\n    ticksPerSpawn.put(SpawnCategory.WATER_UNDERGROUND_CREATURE,1);\n    ticksPerSpawn.put(SpawnCategory.WATER_ANIMAL,1);\n    ticksPerSpawn.put(SpawnCategory.AMBIENT,1);\n  }\n  gameRules.put(GameRule.ANNOUNCE_ADVANCEMENTS,true);\n  gameRules.put(GameRule.COMMAND_BLOCK_OUTPUT,true);\n  gameRules.put(GameRule.DISABLE_ELYTRA_MOVEMENT_CHECK,false);\n  gameRules.put(GameRule.DO_DAYLIGHT_CYCLE,true);\n  gameRules.put(GameRule.DO_ENTITY_DROPS,true);\n  gameRules.put(GameRule.DO_FIRE_TICK,true);\n  gameRules.put(GameRule.DO_LIMITED_CRAFTING,false);\n  gameRules.put(GameRule.DO_MOB_LOOT,true);\n  gameRules.put(GameRule.DO_MOB_SPAWNING,true);\n  gameRules.put(GameRule.DO_TILE_DROPS,true);\n  gameRules.put(GameRule.DO_WEATHER_CYCLE,true);\n  gameRules.put(GameRule.KEEP_INVENTORY,false);\n  gameRules.put(GameRule.LOG_ADMIN_COMMANDS,true);\n  gameRules.put(GameRule.MAX_COMMAND_CHAIN_LENGTH,65536);\n  gameRules.put(GameRule.MAX_ENTITY_CRAMMING,24);\n  gameRules.put(GameRule.MOB_GRIEFING,true);\n  gameRules.put(GameRule.NATURAL_REGENERATION,true);\n  gameRules.put(GameRule.RANDOM_TICK_SPEED,3);\n  gameRules.put(GameRule.REDUCED_DEBUG_INFO,false);\n  gameRules.put(GameRule.SEND_COMMAND_FEEDBACK,true);\n  gameRules.put(GameRule.SHOW_DEATH_MESSAGES,true);\n  gameRules.put(GameRule.SPAWN_RADIUS,10);\n  gameRules.put(GameRule.SPECTATORS_GENERATE_CHUNKS,true);\n}\n",
    "File_Path": "MockBukkit/src/main/java/be/seeseemelk/mockbukkit/WorldMock.java",
    "Start": 13099,
    "Stop": 15638,
    "Project_Name": "data/projects/MockBukkit",
    "Method_Name": "WorldMock"
}